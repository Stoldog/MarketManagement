<div class="row">
    <div class="col-md-6">
        <div class="box box-info collapsed-box">
            <div class="box-header with-border">
                <div class="pull-left">
                    <button class="btn btn-success" onclick="getHotCharts()" id=""><i></i>查询</button>
                    <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
                </div>
            </div>
            <div class="box-body">
                <div class="col-md-3">
                    <label>起始日期:</label>
                    <input type="text"  class="form-control" id="startTime"/>
                </div>
                <div class="col-md-3">
                    <label>结束日期:</label>
                    <input type="text"  class="form-control" id="endTime"/>
                </div>
            </div>
            <div class="box">
                <div id="Chart111" style="height: 500px; width: 100%;"></div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        //初始化日期
        $("#startTime").jeDate({
            format:"YYYY/MM/DD",
            isTime:false,
            minDate:"2014-09-19 00:00:00"
        });
        $("#endTime").jeDate({
            format:"YYYY/MM/DD",
            isTime:false,
            minDate:"2014-09-19 00:00:00"
        });

    });

    function getHotCharts() {
        var startTime=new Date($("#startTime").val()).getTime();
        var endTime=new Date($("#endTime").val()).getTime();

        $.ajax("/sell/hotSellChart/"+startTime+"/"+endTime,{
            method:"GET",
            contentType:"application/json; chartset=utf-8",
            success:function (res) {
                console.log(res);
                var reData=[];
                $(res.list).each(function () {
                    var temp={
                        y:this.sellTotalNum,
                        indexLabel:this.productName
                    };
                    reData.push(temp);
                });
                console.log(reData);
                debugger
                var chart = new CanvasJS.Chart("Chart111", {
                    title:{text: "热销产品"},
                    legend: {
                        maxWidth: 350,
                        itemWidth: 120
                    },
                    data: [{
                            type: "pie",
                            showInLegend: true,
                            legendText: "{indexLabel}",
                            dataPoints: reData
                        }]
                });
                chart.render();
                debugger
            }
        });
    }
</script>